{% extends "base.html" %}

{% block content %}

<div class="container">

	<div class="row">
		<h3>{{ model.name }}</h3>
		<br>
		<h5>{{ model.description }}</h5>
		<br>
	</div>
	<div class="row">
		<div class="col-md-6">
			<form class="form-vertical" action="{% url 'add_fault' model.id %}" method="post" enctype="multipart/form-data">
				<fieldset>
					<div class="form-group">
						{% csrf_token %}
					    {{ form }}
				    </div>
				    <br>
			    	<input class="btn btn-primary" type="submit" value="Add" />
			    </fieldset>
			</form>
		</div>


		<div class="col-md-6">

			{% if faults %}
				<table class="table table-striped table-hover ">
				<caption>Model faults</caption>
					<thead>
					    <tr>
						    <th>Name</th>
						    <th>Mindepth</th>
						    <th>Maxdepth</th>
						    <th>Strike</th>
						    <th>Dip</th>
						    <th>Rake</th>
						    <th>Sr</th>
						    <th>Maxmag</th>
					    </tr>
					</thead>
					<tbody>
				    	{% for fault in faults %}
				    	<tr>
						    <td> {{ fault.name }} </td>
						    <td> {{ fault.mindepth }} </td>
						    <td> {{ fault.maxdepth }} </td>
						    <td> {{ fault.strike }} </td>
						    <td> {{ fault.dip }} </td>
						    <td> {{ fault.rake }} </td>
						    <td> {{ fault.sr }} </td>
						    <td> {{ fault.maxmag }} </td>						    
					    </tr>
				    	{% endfor %}
					</tbody>
				</table>
				<div class="pagination">
				    <span class="step-links">
				        {% if faults.has_previous %}
				            <a href="?page={{ faults.previous_page_number }}">previous</a>
				        {% endif %}

				        <span class="current">
				            Page {{ faults.number }} of {{ faults.paginator.num_pages }}.
				        </span>

				        {% if faults.has_next %}
				            <a href="?page={{ faults.next_page_number }}">next</a>
				        {% endif %}
				    </span>
				</div>
			{% else %}
				<div class="alert alert-dismissable alert-info">
				<button type="button" class="close" data-dismiss="alert">Ã—</button>
			    	<p>No faults in this model. Please add the first below</p>
			    </div>
			{% endif %}


		</div>

	</div>

</div>

{% load staticfiles %}
<script type="text/javascript" src="{% static 'eng_models/js/faults.js' %}"></script>


{% endblock %}